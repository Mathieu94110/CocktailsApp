{"version":3,"file":"static/js/358.4bb0caac.chunk.js","mappings":"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","sources":["webpack://cocktailsmaster/./src/pages/HomePage/HomePage.module.scss?bae6","webpack://cocktailsmaster/./src/pages/HomePage/Components/Search/Search.module.scss?7712","pages/HomePage/Components/Search/Search.tsx","webpack://cocktailsmaster/./src/pages/HomePage/Components/Recipe/Recipe.module.scss?729e","pages/HomePage/Components/Recipe/Recipe.tsx","webpack://cocktailsmaster/./src/components/Loading/Loading.module.scss?0a17","components/Loading/Loading.tsx","utils/searchFiltered.ts","api/search.ts","reducers/cocktailsReducer.ts","webpack://cocktailsmaster/./src/pages/HomePage/Components/Paginate/Paginate.module.scss?f92f","pages/HomePage/Components/Paginate/Paginate.tsx","webpack://cocktailsmaster/./src/pages/HomePage/Components/Dropdown/DropdownFilters.module.scss?b6ee","pages/HomePage/Components/Dropdown/DropdownFilters.tsx","constant.ts","pages/HomePage/HomePage.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"grid\":\"HomePage_grid__X3Xvw\",\"contentCard\":\"HomePage_contentCard__k2Ro4\",\"small\":\"HomePage_small__K4E7O\"};","// extracted by mini-css-extract-plugin\nexport default {\"searchBar\":\"Search_searchBar__BNASN\"};","import React, { ChangeEvent, Dispatch, SetStateAction } from 'react';\r\nimport styles from './Search.module.scss';\r\n\r\nfunction Search({\r\n  setFilter,\r\n  currentFilter,\r\n}: {\r\n  setFilter: Dispatch<SetStateAction<string>>;\r\n  currentFilter: string;\r\n}) {\r\n  function handleInput(e: ChangeEvent<HTMLInputElement>) {\r\n    const filter = e.currentTarget.value;\r\n    setFilter(filter.trim().toLowerCase());\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`d-flex flex-row justify-content-center align-item-center my-30 ${styles.searchBar}`}\r\n    >\r\n      <i className=\"fa-solid fa-magnifying-glass mr-15\"></i>\r\n      <input\r\n        onInput={handleInput}\r\n        className=\"flex-fill\"\r\n        type=\"text\"\r\n        placeholder={currentFilter}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"recipe\":\"Recipe_recipe__a28YQ\",\"recipeTitle\":\"Recipe_recipeTitle__A9eP6\",\"imageContainer\":\"Recipe_imageContainer__UUkBL\"};","import { CocktailInterface } from 'interfaces';\r\nimport React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styles from './Recipe.module.scss';\r\n\r\nfunction Recipe({ cocktails }: { cocktails: CocktailInterface }) {\r\n  const [liked, setLiked] = useState<boolean>(false);\r\n  const navigate = useNavigate();\r\n  const goToRecipe = () => navigate(`/recipe/${cocktails.strDrink}`);\r\n  function handleClick() {\r\n    setLiked(!liked);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.recipe}>\r\n      <i className=\"fa-solid fa-xmark\"></i>\r\n      <div className={styles.imageContainer}>\r\n        <img\r\n          src={cocktails.strDrinkThumb}\r\n          alt={cocktails.strDrink}\r\n          onClick={goToRecipe}\r\n        />\r\n      </div>\r\n      <div\r\n        className={`${styles.recipeTitle} d-flex flex-column justify-content-center align-items-center`}\r\n      >\r\n        <h3 className=\"mb-10\">{cocktails.strDrink}</h3>\r\n        <i\r\n          onClick={handleClick}\r\n          className={`fa-solid fa-heart ${liked ? 'text-primary' : ''}`}\r\n        ></i>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Recipe;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Loading_spinner__p9lwA\",\"rotate\":\"Loading_rotate__ijh9v\"};","import React from 'react';\r\nimport style from './Loading.module.scss';\r\n\r\nfunction Loading() {\r\n  return (\r\n    <div className=\"d-flex flex-row align-items-center justify-content-center flex-fill\">\r\n      <i className={`fa-solid fa-spinner ${style.spinner}`}></i>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loading;\r\n","import type { CategoriesInterface } from 'interfaces';\r\nimport { CocktailInterface } from 'interfaces';\r\nimport { CATEGORIESTYPES } from '../types/categories';\r\n\r\nconst checkRequestQueries = (categories: CATEGORIESTYPES[]) => {\r\n  const validAlcoholicIInfo =\r\n    (categories.includes('Alcoholic') &&\r\n      !categories.includes('Non_Alcoholic')) ||\r\n    (!categories.includes('Alcoholic') && categories.includes('Non_Alcoholic'));\r\n\r\n  const validCocktailIInfo =\r\n    (categories.includes('Ordinary_Drink') &&\r\n      !categories.includes('Cocktail')) ||\r\n    (!categories.includes('Ordinary_Drink') && categories.includes('Cocktail'));\r\n\r\n  const validGlassInfo =\r\n    (categories.includes('Cocktail_glass') &&\r\n      !categories.includes('Champagne_flute')) ||\r\n    (!categories.includes('Cocktail_glass') &&\r\n      categories.includes('Champagne_flute'));\r\n\r\n  const alcoholicQueries =\r\n    validAlcoholicIInfo && categories.includes('Alcoholic')\r\n      ? 'Alcoholic'\r\n      : validAlcoholicIInfo && categories.includes('Non_Alcoholic')\r\n        ? 'Non alcoholic'\r\n        : null;\r\n  const cocktailQueries =\r\n    validCocktailIInfo && categories.includes('Ordinary_Drink')\r\n      ? 'Ordinary Drink'\r\n      : validCocktailIInfo && categories.includes('Cocktail')\r\n        ? 'Cocktail'\r\n        : null;\r\n  const glassQueries =\r\n    validGlassInfo && categories.includes('Cocktail_glass')\r\n      ? 'Cocktail glass'\r\n      : validGlassInfo && categories.includes('Champagne_flute')\r\n        ? 'Champagne flute'\r\n        : null;\r\n\r\n  const validQueries = {\r\n    strAlcoholic: alcoholicQueries,\r\n    strCategory: cocktailQueries,\r\n    strGlass: glassQueries,\r\n  };\r\n  return validQueries;\r\n};\r\n\r\nconst filterListByQueries = (products: CocktailInterface[], filters: any) => {\r\n  const filterKeys = Object.keys(filters);\r\n  return products.filter((product: any) => {\r\n    return filterKeys.every((key) => {\r\n      if (!filters[key].length) return true;\r\n      if (Array.isArray(product[key])) {\r\n        return product[key].some((keyEle: any) =>\r\n          filters[key].includes(keyEle)\r\n        );\r\n      }\r\n      return filters[key].includes(product[key]);\r\n    });\r\n  });\r\n};\r\n\r\nconst filterListByCategories = async (\r\n  categories: CategoriesInterface[],\r\n  currentList: CocktailInterface[]\r\n): Promise<CocktailInterface[]> => {\r\n  const categoriesInArray: any = categories.map(\r\n    (category: CategoriesInterface) => category.value\r\n  );\r\n\r\n  const validQueries = await checkRequestQueries(categoriesInArray);\r\n  const nonNullishQueries = Object.fromEntries(\r\n    Object.entries(validQueries).filter(([, v]) => v !== null)\r\n  );\r\n  const filteredList = await filterListByQueries(\r\n    currentList,\r\n    nonNullishQueries\r\n  );\r\n  return filteredList;\r\n};\r\n\r\nexport default {\r\n  filterListByCategories,\r\n};\r\n","import axios from 'axios';\r\nimport { CocktailInterface, CategoriesInterface } from 'interfaces';\r\nimport filterSearchUtil from '../utils/searchFiltered';\r\n\r\nconst cocktailApi = axios.create({\r\n  baseURL: 'https://www.thecocktaildb.com/api/json/v1/1/',\r\n});\r\n\r\nexport default {\r\n  searchCocktails: async (name: string): Promise<CocktailInterface[]> => {\r\n    try {\r\n      let cocktail = await cocktailApi.get(`search.php?s=${name}`);\r\n      return cocktail.data.drinks;\r\n    } catch (err) {\r\n      throw new Error('Error fetch cocktails');\r\n    }\r\n  },\r\n\r\n  searchByFilters: async (\r\n    categories: CategoriesInterface[],\r\n    currentCocktailsList: CocktailInterface[]\r\n  ): Promise<any> => {\r\n    const filteredList = await filterSearchUtil.filterListByCategories(\r\n      categories,\r\n      currentCocktailsList\r\n    );\r\n    return filteredList;\r\n  },\r\n};\r\n","import { ACTIONTYPE } from '../types/actions';\r\nimport { CocktailsInitialInterface } from '../interfaces/cocktails.interface';\r\n\r\nfunction cocktailsReducer(\r\n  state: CocktailsInitialInterface,\r\n  action: ACTIONTYPE\r\n) {\r\n  switch (action.type) {\r\n    case 'CURRENT_COCKTAILS': {\r\n      return {\r\n        ...state,\r\n        cocktails: action.payload,\r\n      };\r\n    }\r\n    default: {\r\n      throw new Error('action inconnue');\r\n    }\r\n  }\r\n}\r\n\r\nexport default cocktailsReducer;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Paginate_pagination__ckmim\",\"pageNumber\":\"Paginate_pageNumber__DrBn5\",\"active\":\"Paginate_active__Z5x5O\"};","import React from 'react';\r\nimport styles from './Paginate.module.scss';\r\n\r\nconst Paginate = ({\r\n  postsPerPage,\r\n  totalPosts,\r\n  paginate,\r\n  previousPage,\r\n  nextPage,\r\n  currentPageNumber,\r\n}: {\r\n  postsPerPage: number;\r\n  totalPosts: number;\r\n  paginate: (x: number) => void;\r\n  previousPage: () => void;\r\n  nextPage: () => void;\r\n  currentPageNumber: number;\r\n}) => {\r\n  const pageNumbers = [];\r\n\r\n  for (let i = 1; i <= Math.ceil(totalPosts / postsPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n\r\n  return (\r\n    <div className={styles.paginationContainer}>\r\n      <ul className={styles.pagination}>\r\n        <li onClick={previousPage} className={styles.pageNumber}>\r\n          Prev\r\n        </li>\r\n        {pageNumbers.map((number: number, index: number) => (\r\n          <li\r\n            key={index}\r\n            onClick={() => paginate(number)}\r\n            className={\r\n              `${styles.pageNumber} ` +\r\n              (number === currentPageNumber ? `${styles.active}` : '')\r\n            }\r\n          >\r\n            {number}\r\n          </li>\r\n        ))}\r\n        <li onClick={nextPage} className={styles.pageNumber}>\r\n          Next\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginate;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"dropdownContainer\":\"DropdownFilters_dropdownContainer__OAbhV\",\"dropdownInput\":\"DropdownFilters_dropdownInput__9Atdi\",\"dropdownMenu\":\"DropdownFilters_dropdownMenu__0XwHa\",\"dropdownTags\":\"DropdownFilters_dropdownTags__obGAc\",\"dropdownTagItem\":\"DropdownFilters_dropdownTagItem__y3eUP\",\"dropdownTagClose\":\"DropdownFilters_dropdownTagClose__IEqEb\",\"searchBox\":\"DropdownFilters_searchBox__wAADf\"};","import React, { useEffect, useRef, useState } from 'react';\r\nimport { CategoriesInterface } from 'interfaces';\r\nimport styles from './DropdownFilters.module.scss';\r\n\r\nconst Icon = () => {\r\n  return (\r\n    <svg height=\"20\" width=\"20\" viewBox=\"0 0 20 20\">\r\n      <path d=\"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z\"></path>\r\n    </svg>\r\n  );\r\n};\r\n\r\nconst DropdownFilters = ({\r\n  placeHolder,\r\n  options,\r\n  isMulti,\r\n  isSearchable,\r\n  onChange,\r\n}: {\r\n  placeHolder: string;\r\n  options: CategoriesInterface[];\r\n  isMulti: boolean;\r\n  isSearchable: boolean;\r\n  onChange: (x: CategoriesInterface[]) => void;\r\n}) => {\r\n  const [showMenu, setShowMenu] = useState<boolean>(false);\r\n  const [selectedValue, setSelectedValue] = useState<any>(isMulti ? [] : null);\r\n  const [searchValue, setSearchValue] = useState<string>('');\r\n  const searchRef = useRef<HTMLInputElement>(null);\r\n  const inputRef = useRef<HTMLDivElement>(null);\r\n\r\n  useEffect(() => {\r\n    setSearchValue('');\r\n    if (showMenu && searchRef.current) {\r\n      searchRef.current.focus();\r\n    }\r\n  }, [showMenu]);\r\n\r\n  useEffect(() => {\r\n    const handler = (e: Event) => {\r\n      if (\r\n        inputRef.current &&\r\n        !inputRef.current.contains(e.target as HTMLElement)\r\n      ) {\r\n        setShowMenu(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('click', handler);\r\n    return () => {\r\n      window.removeEventListener('click', handler);\r\n    };\r\n  });\r\n  const handleInputClick = () => {\r\n    setShowMenu(!showMenu);\r\n  };\r\n\r\n  const removeOption = (option: CategoriesInterface) => {\r\n    return selectedValue?.filter(\r\n      (o: CategoriesInterface) => o.value !== option.value\r\n    );\r\n  };\r\n\r\n  const onTagRemove = (e: React.MouseEvent, option: CategoriesInterface) => {\r\n    e.stopPropagation();\r\n    const newValue = removeOption(option);\r\n    setSelectedValue(newValue);\r\n    onChange(newValue);\r\n  };\r\n\r\n  const getDisplay = () => {\r\n    if (!selectedValue || selectedValue.length === 0) {\r\n      return placeHolder;\r\n    }\r\n    if (isMulti) {\r\n      return (\r\n        <div className={styles.dropdownTags}>\r\n          {selectedValue.map((option: CategoriesInterface) => (\r\n            <div key={option.value} className={styles.dropdownTagItem}>\r\n              {option.label}\r\n              <span\r\n                onClick={(e) => onTagRemove(e, option)}\r\n                className={styles.dropdownTagClose}\r\n              >\r\n                <i className=\"fa-solid fa-xmark ml-5 vertical-center-content\"></i>\r\n              </span>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n    return selectedValue.label;\r\n  };\r\n\r\n  const onItemClick = (option: CategoriesInterface) => {\r\n    let newValue;\r\n    if (isMulti) {\r\n      if (\r\n        selectedValue.findIndex(\r\n          (o: CategoriesInterface) => o.value === option.value\r\n        ) >= 0\r\n      ) {\r\n        newValue = removeOption(option);\r\n      } else {\r\n        newValue = [...selectedValue, option];\r\n      }\r\n    } else {\r\n      newValue = option;\r\n    }\r\n    setSelectedValue(newValue);\r\n    onChange(newValue);\r\n  };\r\n\r\n  const isSelected = (option: CategoriesInterface) => {\r\n    if (isMulti) {\r\n      return (\r\n        selectedValue.filter(\r\n          (o: CategoriesInterface) => o.value === option.value\r\n        ).length > 0\r\n      );\r\n    }\r\n\r\n    if (!selectedValue) {\r\n      return false;\r\n    }\r\n\r\n    return selectedValue.value === option.value;\r\n  };\r\n\r\n  const onSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setSearchValue(e.target.value);\r\n  };\r\n\r\n  const getOptions = () => {\r\n    if (!searchValue) {\r\n      return options;\r\n    }\r\n\r\n    return options.filter(\r\n      (option: CategoriesInterface) =>\r\n        option.label.toLowerCase().indexOf(searchValue.toLowerCase()) >= 0\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={styles.dropdownContainer}>\r\n      <div\r\n        ref={inputRef}\r\n        onClick={handleInputClick}\r\n        className={styles.dropdownInput}\r\n      >\r\n        <div className={styles.dropdownSelectedValue}>{getDisplay()}</div>\r\n        <div className={styles.dropdownTools}>\r\n          <div className={styles.dropdownTool}>\r\n            <Icon />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {showMenu && (\r\n        <div className={styles.dropdownMenu}>\r\n          {isSearchable && (\r\n            <div className={styles.searchBox}>\r\n              <input onChange={onSearch} value={searchValue} ref={searchRef} />\r\n            </div>\r\n          )}\r\n          {getOptions().map((option: CategoriesInterface) => (\r\n            <div className=\"my-10\">\r\n              <input\r\n                onClick={() => onItemClick(option)}\r\n                type=\"checkbox\"\r\n                checked={isSelected(option)}\r\n                key={option.value}\r\n              />\r\n              <label>{option.label}</label>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DropdownFilters;\r\n","import { CategoriesInterface } from './interfaces/categories.interface';\r\n\r\nexport const options: CategoriesInterface[] = [\r\n  { value: 'Alcoholic', label: 'Alcoholic' },\r\n  { value: 'Non_Alcoholic', label: 'Non Alcoholic' },\r\n  { value: 'Ordinary_Drink', label: 'Ordinary Drink' },\r\n  { value: 'Cocktail', label: 'Cocktail' },\r\n  { value: 'Cocktail_glass', label: 'Cocktail glass' },\r\n  { value: 'Champagne_flute', label: 'Champagne flute' },\r\n];\r\n","import React, { useState, useEffect, useReducer } from 'react';\r\nimport styles from './HomePage.module.scss';\r\nimport Search from './Components/Search/Search';\r\nimport Recipe from './Components/Recipe/Recipe';\r\nimport Loading from '../../components/Loading/Loading';\r\nimport searchApi from '../../api/search';\r\nimport cocktailsReducer from '../../reducers/cocktailsReducer';\r\nimport { CocktailInterface, CategoriesInterface } from 'interfaces';\r\nimport Paginate from './Components/Paginate/Paginate';\r\nimport DropdownFilters from './Components/Dropdown/DropdownFilters';\r\nimport { options } from '../../constant';\r\n\r\nfunction HomePage() {\r\n  const [filter, setFilter] = useState<string>('margarita');\r\n  const [dropDownFilters, setDropDownFilters] = useState<CategoriesInterface[]>(\r\n    []\r\n  );\r\n  const [isLoading, setIsLoading] = useState<boolean>(true);\r\n  const [state, dispatch] = useReducer(cocktailsReducer, {\r\n    cocktails: [],\r\n  });\r\n  const [currentPage, setCurrentPage] = useState<number>(1);\r\n  const [postsPerPage] = useState<number>(6);\r\n\r\n  const indexOfLastCocktail: number = currentPage * postsPerPage;\r\n  const indexOfFirstCocktail: number = indexOfLastCocktail - postsPerPage;\r\n  const currentCocktails: CocktailInterface[] = state.cocktails.slice(\r\n    indexOfFirstCocktail,\r\n    indexOfLastCocktail\r\n  );\r\n\r\n  const paginate = (pageNumber: number) => {\r\n    setCurrentPage(pageNumber);\r\n  };\r\n\r\n  const previousPage = () => {\r\n    if (currentPage !== 1) {\r\n      setCurrentPage(currentPage - 1);\r\n    }\r\n  };\r\n\r\n  const nextPage = () => {\r\n    if (currentPage !== Math.ceil(state.cocktails.length / postsPerPage)) {\r\n      setCurrentPage(currentPage + 1);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let cancel = false;\r\n    searchApi\r\n      .searchCocktails(filter)\r\n      .then(async (cocktailsInfos: CocktailInterface[]) => {\r\n        if (!cancel) {\r\n          if (filter && !dropDownFilters.length) {\r\n            dispatch({\r\n              type: 'CURRENT_COCKTAILS',\r\n              payload: cocktailsInfos ? cocktailsInfos : [],\r\n            });\r\n          } else if (filter && dropDownFilters.length) {\r\n            const newCocktailsList: CocktailInterface[] =\r\n              await searchApi.searchByFilters(dropDownFilters, cocktailsInfos);\r\n            if (newCocktailsList) {\r\n              dispatch({\r\n                type: 'CURRENT_COCKTAILS',\r\n                payload: newCocktailsList,\r\n              });\r\n            }\r\n          } else {\r\n            const emptyListArray: CocktailInterface[] = [];\r\n            dispatch({\r\n              type: 'CURRENT_COCKTAILS',\r\n              payload: emptyListArray,\r\n            });\r\n          }\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n      })\r\n      .finally(() => {\r\n        if (!cancel) {\r\n          setIsLoading(false);\r\n        }\r\n      });\r\n  }, [filter, dropDownFilters]);\r\n\r\n  return (\r\n    <div className=\"flex-fill container d-flex flex-column p-20\">\r\n      <h1 className=\"my-30\">Découvrez des nouvelles recettes</h1>\r\n      <div\r\n        className={`card flex-fill d-flex flex-column p-20 mb-20  ${styles.contentCard}`}\r\n      >\r\n        <DropdownFilters\r\n          isSearchable\r\n          isMulti\r\n          placeHolder=\"Select filters\"\r\n          options={options}\r\n          onChange={(categories: CategoriesInterface[]) =>\r\n            categories ? setDropDownFilters(categories) : setDropDownFilters([])\r\n          }\r\n        />\r\n        <Search setFilter={setFilter} currentFilter={filter} />\r\n        {isLoading && !state.cocktails.length ? (\r\n          <Loading />\r\n        ) : (\r\n          <>\r\n            <div className={styles.grid}>\r\n              {currentCocktails.map((c: CocktailInterface, index: number) => (\r\n                <Recipe key={index} cocktails={c} />\r\n              ))}\r\n            </div>\r\n            {!!state.cocktails.length && (\r\n              <Paginate\r\n                postsPerPage={postsPerPage}\r\n                totalPosts={state.cocktails.length}\r\n                paginate={paginate}\r\n                previousPage={previousPage}\r\n                nextPage={nextPage}\r\n                currentPageNumber={currentPage}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"names":["setFilter","currentFilter","className","styles","onInput","e","filter","currentTarget","value","trim","toLowerCase","type","placeholder","cocktails","useState","liked","setLiked","navigate","useNavigate","src","strDrinkThumb","alt","strDrink","onClick","style","checkRequestQueries","categories","validAlcoholicIInfo","includes","validCocktailIInfo","validGlassInfo","strAlcoholic","strCategory","strGlass","filterListByQueries","products","filters","filterKeys","Object","keys","product","every","key","length","Array","isArray","some","keyEle","filterListByCategories","currentList","categoriesInArray","map","category","validQueries","nonNullishQueries","fromEntries","entries","filteredList","cocktailApi","axios","baseURL","searchCocktails","name","get","cocktail","data","drinks","Error","searchByFilters","currentCocktailsList","filterSearchUtil","state","action","payload","postsPerPage","totalPosts","paginate","previousPage","nextPage","currentPageNumber","pageNumbers","i","Math","ceil","push","number","index","Icon","height","width","viewBox","d","placeHolder","options","isMulti","isSearchable","onChange","showMenu","setShowMenu","selectedValue","setSelectedValue","searchValue","setSearchValue","searchRef","useRef","inputRef","useEffect","current","focus","handler","contains","target","window","addEventListener","removeEventListener","removeOption","option","o","isSelected","ref","label","stopPropagation","newValue","onTagRemove","indexOf","findIndex","onItemClick","checked","dropDownFilters","setDropDownFilters","isLoading","setIsLoading","useReducer","cocktailsReducer","dispatch","currentPage","setCurrentPage","indexOfLastCocktail","indexOfFirstCocktail","currentCocktails","slice","searchApi","then","cocktailsInfos","newCocktailsList","catch","console","error","finally","c","pageNumber"],"sourceRoot":""}